#!/usr/bin/env bash


#
#  Usage: <strongloop-buildpack>/bin/compile  <build-directory>
#

thisdir=$(dirname "${BASH_SOURCE[0]}")
BUILDPACK_DIR=$(cd -P -- "$thisdir/.." && pwd -P)
source "$BUILDPACK_DIR/lib/utils.sh"


#
#  main():
#
build_dir=$1
cache_dir=$2
autodetect_platform > /dev/null 2>&1

#  For now only do the yaml generation on Heroku.
#  CloudFoundry support is not completely there as yet.
if [ "$STRONGLOOP_PLATFORM" = "Heroku" ]; then
   cat <<RLSEEOF
--
config_vars:
  PATH: vendor/strongloop/usr/bin:node_modules/.bin:/usr/local/bin:/usr/bin:/bin
RLSEEOF
fi

